---
import { useTranslations } from '../../i18n/ui';

interface Props {
	lang: 'es' | 'en';
}

const { lang } = Astro.props;
const t = useTranslations(lang);
---

<header class="sticky top-0 z-50 bg-white/90 dark:bg-black/90 backdrop-blur-md border-b border-grey-200 dark:border-grey-800">
	<nav class="mx-auto px-4 py-3" aria-label="Main navigation">
		<div class="flex items-center justify-between">
			<!-- Logo -->
			<a href="/" class="flex items-center gap-2">
				<svg width="24" height="24" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 flex-shrink-0" aria-hidden="true">
					<path d="M31.0155 57.7181C14.6547 76.7768 14.2233 103.306 30.0862 116.92C45.9492 130.566 72.0667 126.15 88.4607 107.058C104.821 87.9995 105.253 61.4701 89.3899 47.8567C83.1841 42.511 75.3522 39.9543 67.1884 39.9543C54.5113 39.9543 40.9713 46.1302 31.0155 57.7181Z" class="fill-grey-900 dark:fill-grey-100"/>
					<path d="M26.2694 156.332C13.9574 170.941 19.3003 195.744 38.2164 211.715C57.1326 227.686 82.4868 228.815 94.7989 214.205C107.111 199.596 101.768 174.793 82.8518 158.822C72.8296 150.355 61.0153 146.072 50.2962 146.072C40.7718 146.072 32.077 149.459 26.3026 156.332" class="fill-grey-900 dark:fill-grey-100"/>
					<path d="M137.343 209.789C115.142 216.795 99.8429 231.072 103.161 241.664C106.513 252.256 127.221 255.178 149.423 248.139C171.625 241.133 186.923 226.856 183.605 216.264C181.481 209.59 172.454 205.938 160.507 205.938C153.505 205.938 145.54 207.166 137.343 209.756" class="fill-grey-900 dark:fill-grey-100"/>
					<path d="M102.597 18.5365C98.0176 31.7514 112.553 48.8179 135.12 56.6871C157.686 64.5562 179.689 60.2066 184.268 46.9917C188.848 33.7768 174.313 16.7103 151.746 8.84109C144.146 6.18482 136.58 4.9231 129.744 4.9231C116.303 4.9231 105.617 9.77078 102.597 18.5365Z" class="fill-grey-900 dark:fill-grey-100"/>
					<path d="M204.048 45.169C197.51 47.7921 199.07 66.884 207.499 87.7357C215.928 108.621 228.041 123.396 234.579 120.773C241.083 118.15 239.557 99.0912 231.128 78.2063C223.362 58.9484 212.444 44.8702 205.674 44.8702C205.11 44.8702 204.579 44.9698 204.048 45.169Z" class="fill-grey-900 dark:fill-grey-100"/>
					<path d="M209.058 172.038C199.766 192.192 196.547 210.553 201.89 213.01C207.233 215.468 219.114 201.124 228.406 180.969C237.731 160.815 240.917 142.453 235.607 139.996C235.209 139.797 234.778 139.731 234.28 139.731C228.472 139.731 217.654 153.411 209.058 172.038Z" class="fill-grey-900 dark:fill-grey-100"/>
				</svg>
				<span class="font-serif text-lg text-grey-900 dark:text-grey-50">
					Polkadot Uruguay
				</span>
			</a>

			<!-- Right side: Dark mode toggle -->
			<div class="flex items-center gap-4">
				<!-- Dark Mode Toggle -->
				<button
					type="button"
					data-theme-toggle
					class="p-2 rounded-lg bg-grey-100 dark:bg-grey-800 text-grey-600 dark:text-grey-400 hover:bg-grey-200 dark:hover:bg-grey-700 transition-colors"
					aria-label={t('common.darkMode')}
				>
					<!-- Sun icon (shown in dark mode) -->
					<svg class="w-5 h-5 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
					</svg>
					<!-- Moon icon (shown in light mode) -->
					<svg class="w-5 h-5 block dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
					</svg>
				</button>
			</div>
		</div>
	</nav>
</header>

<script>
	// Mobile menu toggle
	document.addEventListener('DOMContentLoaded', () => {
		const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
		const mobileMenu = document.getElementById('mobile-menu');

		mobileMenuToggle?.addEventListener('click', () => {
			const isExpanded = mobileMenuToggle.getAttribute('aria-expanded') === 'true';
			mobileMenuToggle.setAttribute('aria-expanded', (!isExpanded).toString());
			mobileMenu?.classList.toggle('hidden');
		});
	});
</script>
